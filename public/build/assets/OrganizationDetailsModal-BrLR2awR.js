import{r,j as e,a as f}from"./app-5eGyKUiF.js";import{M as v}from"./Modal-W6uTI1qE.js";import{T as l}from"./TextInput-D97-GsCP.js";import{s as N}from"./submit-DKI4xd-f.js";function q({show:h,onClose:o,onSubmit:b}){const[s,p]=r.useState({company:"",email:"",mobile:"",location:"",trainingSession:""}),[u,x]=r.useState(null),[c,j]=r.useState(!1),[m,g]=r.useState(!1),y=async d=>{var n,i;d.preventDefault(),x(null),g(!0);try{const a=await f.post("/api/organizations",s);a.data.status==="success"&&(b(a.data),j(!0))}catch(a){x(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"An error occurred while saving the organization details")}finally{g(!1)}},t=d=>{const{name:n,value:i}=d.target;p(a=>({...a,[n]:i}))};return e.jsx(v,{show:h,onClose:o,maxWidth:"xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-medium",children:[" ",!c&&"Your Organisation Details"]}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-500",children:e.jsx("span",{className:"text-2xl",children:"Ã—"})})]}),u&&e.jsx("div",{className:"mb-4 p-4 text-sm text-red-700 bg-red-100 rounded-lg",children:u}),!c&&e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 ",children:"Company"}),e.jsx(l,{type:"text",name:"company",value:s.company,onChange:t,className:"!w-full !border-gray-300 ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisation Email"}),e.jsx(l,{type:"email",name:"email",value:s.email,onChange:t,className:" !w-full !border-gray-300 ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 ",children:"Mobile no"}),e.jsx(l,{type:"tel",name:"mobile",value:s.mobile,onChange:t,className:"!w-full !border-gray-300 ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Location"}),e.jsx(l,{type:"text",name:"location",value:s.location,onChange:t,className:"!w-full !border-gray-300 ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Training Session"}),e.jsxs("select",{name:"trainingSession",value:s.trainingSession,onChange:t,className:"border-b border-gray-300 outline-none p-3.5 w-full",required:!0,children:[e.jsx("option",{value:"",children:"Select Training Session"}),e.jsx("option",{value:"session1",children:"Session 1"}),e.jsx("option",{value:"session2",children:"Session 2"}),e.jsx("option",{value:"session3",children:"Session 3"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",disabled:m,children:"Back"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 disabled:opacity-50",disabled:m,children:m?"Submitting...":"Submit"})]})]}),c&&e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:N,alt:"",className:"w-72"}),e.jsx("h4",{className:"font-bold text-2xl",children:"Congratulations"}),e.jsx("p",{className:"text-center",children:"Thanks for enrolling in our corporate training course, We will Connect with you soon for further discussion"})]})]})})}export{q as O};
