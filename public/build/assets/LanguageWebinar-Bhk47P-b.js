import{r as m,j as e,L as j,a as y}from"./app-BQSYWhKN.js";import{G as N}from"./GuestLayout-DNMveZk3.js";import{P as v}from"./PrimaryButton-B8peSRjW.js";import"./NavLink-DmplVh9t.js";import"./SecondaryButton-Cje00VVt.js";import"./transition-BmH5f0TZ.js";import"./objectWithoutPropertiesLoose-DrEY89oq.js";const P=()=>{const[a,p]=m.useState({name:"",email:"",phone:"",course_type:"language"}),[t,l]=m.useState({}),[h,u]=m.useState(!1),[b,w]=m.useState(!1),d=r=>{const{name:s,value:c}=r.target;p(i=>({...i,[s]:c})),t[s]&&l({...t,[s]:null})},g=()=>{const r={};return a.name.trim()||(r.name="Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(r.email="Email is invalid"):r.email="Email is required",a.phone.trim()?/^\d{10}$/.test(a.phone.replace(/\D/g,""))||(r.phone="Phone number must be 10 digits"):r.phone="Phone number is required",l(r),Object.keys(r).length===0},f=async r=>{if(r.preventDefault(),!!g()){u(!0);try{const s=await y.post("/api/initiate-payment",a),{payuBaseUrl:c,params:i}=s.data,n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action",c),n.setAttribute("target","_self");for(const x in i){const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",x),o.setAttribute("value",i[x]),n.appendChild(o)}document.body.appendChild(n),n.submit()}catch(s){console.error("Error submitting form:",s),s.response&&s.response.data&&s.response.data.errors?l(s.response.data.errors):l({general:"An error occurred. Please try again."}),u(!1)}}};return e.jsxs(N,{children:[e.jsx(j,{title:"Language Webinar"}),e.jsx("div",{className:" mx-auto py-4 px-4 md:px-6 lg:px-8 max-w-7xl",children:e.jsx("section",{className:" w-10/12 mx-auto bg-white py-5",children:e.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-4",children:[e.jsx("div",{className:"md:w-1/2 w-full",children:e.jsx("img",{src:"/assets/img/language/language-banner-main.jpeg",alt:"Language Webinar"})}),b?e.jsxs("div",{className:"py-16 px-6 w-1/2 text-center flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center mb-6",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thank You!"})]}):e.jsxs("div",{className:"md:w-1/2 w-full px-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Elevate English"}),e.jsx("p",{className:"text-gray-700 mb-6"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.general&&e.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:e.jsx("p",{className:"text-red-600",children:t.general})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-1 font-medium",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:d,placeholder:"Enter your full name",className:`w-full border ${t.name?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500`}),t.name&&e.jsx("p",{className:"mt-1 text-red-600 text-sm",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-1 font-medium",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:d,placeholder:"Enter your email address",className:`w-full border ${t.email?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500`}),t.email&&e.jsx("p",{className:"mt-1 text-red-600 text-sm",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mobile",className:"block text-gray-700 mb-1 font-medium",children:"Mobile Number"}),e.jsx("input",{type:"number",id:"phone",name:"phone",value:a.phone,onChange:d,placeholder:"Enter your mobile number",className:`w-full border ${t.phone?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500`}),t.phone&&e.jsx("p",{className:"mt-1 text-red-600 text-sm",children:t.phone})]}),e.jsx("div",{children:e.jsx(v,{type:"submit",disabled:h,children:"Submit & Pay Now"})})]})]})]})})})]})};export{P as default};
